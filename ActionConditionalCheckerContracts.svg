<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1105px" preserveAspectRatio="none" style="width:4590px;height:1105px;background:#FFFFFF;" version="1.1" viewBox="0 0 4590 1105" width="4590px" zoomAndPan="magnify"><defs/><g><!--MD5=[1286ce166f134520e750335b8af76b76]
cluster ActionConditionalChecker.Contracts--><g id="cluster_ActionConditionalChecker.Contracts"><path d="M8.5,6 L264.5,6 A3.75,3.75 0 0 1 267,8.5 L274,29.6094 L4580.5,29.6094 A2.5,2.5 0 0 1 4583,32.1094 L4583,1095.5 A2.5,2.5 0 0 1 4580.5,1098 L8.5,1098 A2.5,2.5 0 0 1 6,1095.5 L6,8.5 A2.5,2.5 0 0 1 8.5,6 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="274" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="255" x="10" y="22.5332">ActionConditionalChecker.Contracts</text></g><!--MD5=[eb62e060c427bb0d298c398c75d02615]
cluster AccessCondition--><g id="cluster_AccessCondition"><path d="M1157.5,50 L1276.5,50 A3.75,3.75 0 0 1 1279,52.5 L1286,73.6094 L2995.5,73.6094 A2.5,2.5 0 0 1 2998,76.1094 L2998,545.5 A2.5,2.5 0 0 1 2995.5,548 L1157.5,548 A2.5,2.5 0 0 1 1155,545.5 L1155,52.5 A2.5,2.5 0 0 1 1157.5,50 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1155" x2="1286" y1="73.6094" y2="73.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="118" x="1159" y="66.5332">AccessCondition</text></g><!--MD5=[cdc0e6e0843fd04299e06026ac29c334]
cluster ActionInfo--><g id="cluster_ActionInfo"><path d="M3024.5,94 L3096.5,94 A3.75,3.75 0 0 1 3099,96.5 L3106,117.6094 L4556.5,117.6094 A2.5,2.5 0 0 1 4559,120.1094 L4559,528 A2.5,2.5 0 0 1 4556.5,530.5 L3024.5,530.5 A2.5,2.5 0 0 1 3022,528 L3022,96.5 A2.5,2.5 0 0 1 3024.5,94 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="3022" x2="3106" y1="117.6094" y2="117.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="71" x="3026" y="110.5332">ActionInfo</text></g><!--MD5=[e5f667b5311306cc91fbdfbce3163ce7]
cluster Exceptions--><g id="cluster_Exceptions"><path d="M3381.5,618.5 L3460.5,618.5 A3.75,3.75 0 0 1 3463,621 L3470,642.1094 L4170.5,642.1094 A2.5,2.5 0 0 1 4173,644.6094 L4173,1063.5 A2.5,2.5 0 0 1 4170.5,1066 L3381.5,1066 A2.5,2.5 0 0 1 3379,1063.5 L3379,621 A2.5,2.5 0 0 1 3381.5,618.5 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="3379" x2="3470" y1="642.1094" y2="642.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="78" x="3383" y="635.0332">Exceptions</text></g><!--MD5=[271d7ba3aace2291652d6b690f027745]
class ActionState--><g id="elem_ActionState"><rect codeLine="77" fill="#F1F1F1" height="171.2656" id="ActionState" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="755" x="201.5" y="601"/><ellipse cx="538.75" cy="617" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M541.5156,612.875 Q541.6719,612.6563 541.8594,612.5469 Q542.0469,612.4375 542.2656,612.4375 Q542.6406,612.4375 542.875,612.7031 Q543.1094,612.9531 543.1094,613.5625 L543.1094,615.0156 Q543.1094,615.625 542.875,615.8906 Q542.6406,616.1563 542.2656,616.1563 Q541.9219,616.1563 541.7188,615.9531 Q541.5156,615.7656 541.4063,615.25 Q541.3594,614.8906 541.1719,614.7031 Q540.8438,614.3281 540.2344,614.1094 Q539.625,613.8906 539,613.8906 Q538.2344,613.8906 537.5938,614.2188 Q536.9688,614.5469 536.4688,615.2969 Q535.9844,616.0469 535.9844,617.0781 L535.9844,618.1719 Q535.9844,619.4063 536.875,620.2344 Q537.7656,621.0469 539.3594,621.0469 Q540.2969,621.0469 540.9531,620.7969 Q541.3438,620.6406 541.7656,620.2031 Q542.0313,619.9375 542.1719,619.8594 Q542.3281,619.7813 542.5313,619.7813 Q542.8594,619.7813 543.1094,620.0469 Q543.375,620.2969 543.375,620.6406 Q543.375,620.9844 543.0313,621.3906 Q542.5313,621.9688 541.7344,622.2969 Q540.6563,622.75 539.3594,622.75 Q537.8438,622.75 536.6406,622.125 Q535.6563,621.625 534.9688,620.5625 Q534.2813,619.4844 534.2813,618.2031 L534.2813,617.0469 Q534.2813,615.7188 534.8906,614.5781 Q535.5156,613.4219 536.6094,612.8125 Q537.7031,612.1875 538.9375,612.1875 Q539.6719,612.1875 540.3125,612.3594 Q540.9688,612.5156 541.5156,612.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="559.25" y="622.7285">ActionState</text><line style="stroke:#181818;stroke-width:0.5;" x1="202.5" x2="955.5" y1="633" y2="633"/><ellipse cx="212.5" cy="668.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="221.5" y="673.1426">«get» ExpiresAtUtc : DateTime?</text><ellipse cx="212.5" cy="686.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="221.5" y="690.752">«get» ShoultWaitTillCompletion : bool</text><ellipse cx="212.5" cy="704.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="729" x="221.5" y="708.3613">«get» Completed : bool = !ShoultWaitTillCompletion &amp;&amp; (!ExpiresAtUtc.HasValue || ExpiresAtUtc &lt; DateTime.UtcNow)</text><ellipse cx="212.5" cy="721.7422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="517" x="221.5" y="725.9707">«get» Expired : bool = ExpiresAtUtc.HasValue &amp;&amp; ExpiresAtUtc &lt; DateTime.UtcNow</text><line style="stroke:#181818;stroke-width:1.0;" x1="202.5" x2="546.5" y1="649.8047" y2="649.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="546.5" y="655.0332">Properties</text><line style="stroke:#181818;stroke-width:1.0;" x1="611.5" x2="955.5" y1="649.8047" y2="649.8047"/><ellipse cx="212.5" cy="760.9609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="443" x="221.5" y="765.1895">ActionState(expiresAtUtc : DateTime?, shoultWaitTillCompletion : bool)</text><line style="stroke:#181818;stroke-width:1.0;" x1="202.5" x2="538.5" y1="741.8516" y2="741.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="538.5" y="747.0801">Constructors</text><line style="stroke:#181818;stroke-width:1.0;" x1="619.5" x2="955.5" y1="741.8516" y2="741.8516"/></g><!--MD5=[dd0666f4ee5bd83435c87cb797193f64]
class IActionConditionalChecker--><g id="elem_IActionConditionalChecker"><rect codeLine="87" fill="#F1F1F1" height="188.875" id="IActionConditionalChecker" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="991" x="115.5" y="94.5"/><ellipse cx="522.75" cy="110.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M523.7031,107.1406 L523.7031,113.7969 L525.4219,113.7969 Q526.0313,113.7969 526.2969,114.0313 Q526.5625,114.2656 526.5625,114.6563 Q526.5625,115.0313 526.2969,115.2656 Q526.0313,115.5 525.4219,115.5 L520.2813,115.5 Q519.6719,115.5 519.4063,115.2656 Q519.1406,115.0313 519.1406,114.6406 Q519.1406,114.2656 519.4063,114.0313 Q519.6719,113.7969 520.2813,113.7969 L522,113.7969 L522,107.1406 L520.2813,107.1406 Q519.6719,107.1406 519.4063,106.9063 Q519.1406,106.6719 519.1406,106.2813 Q519.1406,105.9063 519.4063,105.6719 Q519.6719,105.4375 520.2813,105.4375 L525.4219,105.4375 Q526.0313,105.4375 526.2969,105.6719 Q526.5625,105.9063 526.5625,106.2813 Q526.5625,106.6719 526.2969,106.9063 Q526.0313,107.1406 525.4219,107.1406 L523.7031,107.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="168" x="543.25" y="116.2285">IActionConditionalChecker</text><line style="stroke:#181818;stroke-width:0.5;" x1="116.5" x2="1105.5" y1="126.5" y2="126.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="116.5" x2="1105.5" y1="134.5" y2="134.5"/><ellipse cx="126.5" cy="148.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="730" x="135.5" y="153.0332">CanExecute&lt;TRequest&gt;(accessCondition : AccessCondition.AccessCondition&lt;TRequest&gt;) : OperationResult&lt;bool&gt;</text><ellipse cx="126.5" cy="166.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="655" x="135.5" y="170.6426">EnsureCanExecute&lt;TRequest&gt;(accessCondition : AccessCondition.AccessCondition&lt;TRequest&gt;) : void</text><ellipse cx="126.5" cy="184.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="670" x="135.5" y="188.252">ExecuteOrThrowException&lt;TRequest&gt;(actionInfo : ActionInfo&lt;TRequest&gt;) : OperationResult&lt;ActionState&gt;</text><ellipse cx="126.5" cy="201.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="597" x="135.5" y="205.8613">ExecuteOrSkip&lt;TRequest&gt;(actionInfo : ActionInfo&lt;TRequest&gt;) : OperationResult&lt;ActionState&gt;</text><ellipse cx="126.5" cy="219.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="554" x="135.5" y="223.4707">Execute&lt;TRequest&gt;(actionInfo : ActionInfo&lt;TRequest&gt;) : OperationResult&lt;ActionState&gt;</text><ellipse cx="126.5" cy="236.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="965" x="135.5" y="241.0801">ExecuteOrThrowException&lt;TRequest, TResponse&gt;(actionInfo : ActionInfo&lt;TRequest, TResponse&gt;) : OperationResult&lt;Tuple&lt;ActionState, TResponse&gt;&gt;</text><ellipse cx="126.5" cy="254.4609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="892" x="135.5" y="258.6895">ExecuteOrSkip&lt;TRequest, TResponse&gt;(actionInfo : ActionInfo&lt;TRequest, TResponse&gt;) : OperationResult&lt;Tuple&lt;ActionState, TResponse&gt;&gt;</text><ellipse cx="126.5" cy="272.0703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="849" x="135.5" y="276.2988">Execute&lt;TRequest, TResponse&gt;(actionInfo : ActionInfo&lt;TRequest, TResponse&gt;) : OperationResult&lt;Tuple&lt;ActionState, TResponse&gt;&gt;</text></g><!--MD5=[49c783154a905c042c51b6906752d75a]
class IAsyncActionConditionalChecker--><g id="elem_IAsyncActionConditionalChecker"><rect codeLine="98" fill="#F1F1F1" height="188.875" id="IAsyncActionConditionalChecker" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="1114" x="22" y="352"/><ellipse cx="471.75" cy="368" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M472.7031,364.6406 L472.7031,371.2969 L474.4219,371.2969 Q475.0313,371.2969 475.2969,371.5313 Q475.5625,371.7656 475.5625,372.1563 Q475.5625,372.5313 475.2969,372.7656 Q475.0313,373 474.4219,373 L469.2813,373 Q468.6719,373 468.4063,372.7656 Q468.1406,372.5313 468.1406,372.1406 Q468.1406,371.7656 468.4063,371.5313 Q468.6719,371.2969 469.2813,371.2969 L471,371.2969 L471,364.6406 L469.2813,364.6406 Q468.6719,364.6406 468.4063,364.4063 Q468.1406,364.1719 468.1406,363.7813 Q468.1406,363.4063 468.4063,363.1719 Q468.6719,362.9375 469.2813,362.9375 L474.4219,362.9375 Q475.0313,362.9375 475.2969,363.1719 Q475.5625,363.4063 475.5625,363.7813 Q475.5625,364.1719 475.2969,364.4063 Q475.0313,364.6406 474.4219,364.6406 L472.7031,364.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="206" x="492.25" y="373.7285">IAsyncActionConditionalChecker</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="1135" y1="384" y2="384"/><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="1135" y1="392" y2="392"/><ellipse cx="33" cy="406.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="853" x="42" y="410.5332">CanExecuteAsync&lt;TRequest&gt;(accessCondition : AccessCondition.AsyncAccessCondition&lt;TRequest&gt;) : Task&lt;OperationResult&lt;bool&gt;&gt;</text><ellipse cx="33" cy="423.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="736" x="42" y="428.1426">EnsureCanExecuteAsync&lt;TRequest&gt;(accessCondition : AccessCondition.AsyncAccessCondition&lt;TRequest&gt;) : Task</text><ellipse cx="33" cy="441.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="793" x="42" y="445.752">ExecuteOrThrowExceptionAsync&lt;TRequest&gt;(actionInfo : AsyncActionInfo&lt;TRequest&gt;) : Task&lt;OperationResult&lt;ActionState&gt;&gt;</text><ellipse cx="33" cy="459.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="720" x="42" y="463.3613">ExecuteOrSkipAsync&lt;TRequest&gt;(actionInfo : AsyncActionInfo&lt;TRequest&gt;) : Task&lt;OperationResult&lt;ActionState&gt;&gt;</text><ellipse cx="33" cy="476.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="677" x="42" y="480.9707">ExecuteAsync&lt;TRequest&gt;(actionInfo : AsyncActionInfo&lt;TRequest&gt;) : Task&lt;OperationResult&lt;ActionState&gt;&gt;</text><ellipse cx="33" cy="494.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="1088" x="42" y="498.5801">ExecuteOrThrowExceptionAsync&lt;TRequest, TResponse&gt;(actionInfo : AsyncActionInfo&lt;TRequest, TResponse&gt;) : Task&lt;OperationResult&lt;Tuple&lt;ActionState, TResponse&gt;&gt;&gt;</text><ellipse cx="33" cy="511.9609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="1015" x="42" y="516.1895">ExecuteOrSkipAsync&lt;TRequest, TResponse&gt;(actionInfo : AsyncActionInfo&lt;TRequest, TResponse&gt;) : Task&lt;OperationResult&lt;Tuple&lt;ActionState, TResponse&gt;&gt;&gt;</text><ellipse cx="33" cy="529.5703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="972" x="42" y="533.7988">ExecuteAsync&lt;TRequest, TResponse&gt;(AsyncActionInfo&lt;TRequest, actionInfo : TResponse&gt;) : Task&lt;OperationResult&lt;Tuple&lt;ActionState, TResponse&gt;&gt;&gt;</text></g><!--MD5=[41b69e5c302f6e05c2e2046d68f34465]
class BaseAccessCondition--><g id="elem_BaseAccessCondition"><rect codeLine="5" fill="#F1F1F1" height="206.4844" id="BaseAccessCondition" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="653" x="1728.5" y="86"/><ellipse cx="1953.75" cy="102" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1955.9375,103.7656 L1951.7969,103.7656 L1951.375,104.7969 L1951.7969,104.7969 Q1952.4063,104.7969 1952.6719,105.0313 Q1952.9375,105.2656 1952.9375,105.6563 Q1952.9375,106.0313 1952.6719,106.2656 Q1952.4063,106.5 1951.7969,106.5 L1949.5,106.5 Q1948.8906,106.5 1948.6406,106.2656 Q1948.375,106.0313 1948.375,105.6406 Q1948.375,105.2656 1948.6563,105.0313 Q1948.9219,104.7813 1949.5469,104.7969 L1952.2188,98.1406 L1951.1094,98.1406 Q1950.5,98.1406 1950.2344,97.9063 Q1949.9688,97.6719 1949.9688,97.2813 Q1949.9688,96.9063 1950.2344,96.6719 Q1950.5,96.4375 1951.1094,96.4375 L1954.7813,96.4375 L1958.1719,104.7969 Q1958.7656,104.7969 1958.9531,104.9375 Q1959.3438,105.2031 1959.3438,105.6563 Q1959.3438,106.0313 1959.0781,106.2656 Q1958.8281,106.5 1958.2188,106.5 L1955.9219,106.5 Q1955.3125,106.5 1955.0469,106.2656 Q1954.7813,106.0313 1954.7813,105.6406 Q1954.7813,105.2656 1955.0469,105.0313 Q1955.3125,104.7969 1955.9219,104.7969 L1956.3438,104.7969 L1955.9375,103.7656 Z M1955.2188,102.0625 L1953.8594,98.6875 L1952.4844,102.0625 L1955.2188,102.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="137" x="1974.25" y="107.7285">BaseAccessCondition</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="2329.5" y="83"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="2330.5" y="96.457">TRequest</text><line style="stroke:#181818;stroke-width:0.5;" x1="1729.5" x2="2380.5" y1="118" y2="118"/><ellipse cx="1739.5" cy="153.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="1748.5" y="158.1426">«get» Request : TRequest</text><ellipse cx="1739.5" cy="171.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="1748.5" y="175.752">«get» ExpiresAtUtc : DateTime?</text><ellipse cx="1739.5" cy="189.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235" x="1748.5" y="193.3613">«get» WaitTillActionCompletion : bool</text><line style="stroke:#181818;stroke-width:1.0;" x1="1729.5" x2="2022.5" y1="134.8047" y2="134.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="2022.5" y="140.0332">Properties</text><line style="stroke:#181818;stroke-width:1.0;" x1="2087.5" x2="2380.5" y1="134.8047" y2="134.8047"/><polygon fill="#FFFF44" points="1739.5,223.3516,1743.5,227.3516,1739.5,231.3516,1735.5,227.3516" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="627" x="1748.5" y="232.5801">BaseAccessCondition(request : TRequest, expiresAtUtc : DateTime, waitTillActionCompletion : bool)</text><polygon fill="#FFFF44" points="1739.5,240.9609,1743.5,244.9609,1739.5,248.9609,1735.5,244.9609" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="428" x="1748.5" y="250.1895">BaseAccessCondition(request : TRequest, expiresAtUtc : DateTime)</text><polygon fill="#FFFF44" points="1739.5,258.5703,1743.5,262.5703,1739.5,266.5703,1735.5,262.5703" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="412" x="1748.5" y="267.7988">BaseAccessCondition(request : TRequest, timeSpan : TimeSpan)</text><polygon fill="#FFFF44" points="1739.5,276.1797,1743.5,280.1797,1739.5,284.1797,1735.5,280.1797" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="269" x="1748.5" y="285.4082">BaseAccessCondition(request : TRequest)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1729.5" x2="2014.5" y1="209.2422" y2="209.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="2014.5" y="214.4707">Constructors</text><line style="stroke:#181818;stroke-width:1.0;" x1="2095.5" x2="2380.5" y1="209.2422" y2="209.2422"/></g><!--MD5=[cc3375f2fa650b9d98b94f647f5ff996]
class AccessCondition--><g id="elem_AccessCondition"><rect codeLine="17" fill="#F1F1F1" height="171.2656" id="AccessCondition" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="845" x="1171.5" y="361"/><ellipse cx="1508.75" cy="377" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1511.5156,372.875 Q1511.6719,372.6563 1511.8594,372.5469 Q1512.0469,372.4375 1512.2656,372.4375 Q1512.6406,372.4375 1512.875,372.7031 Q1513.1094,372.9531 1513.1094,373.5625 L1513.1094,375.0156 Q1513.1094,375.625 1512.875,375.8906 Q1512.6406,376.1563 1512.2656,376.1563 Q1511.9219,376.1563 1511.7188,375.9531 Q1511.5156,375.7656 1511.4063,375.25 Q1511.3594,374.8906 1511.1719,374.7031 Q1510.8438,374.3281 1510.2344,374.1094 Q1509.625,373.8906 1509,373.8906 Q1508.2344,373.8906 1507.5938,374.2188 Q1506.9688,374.5469 1506.4688,375.2969 Q1505.9844,376.0469 1505.9844,377.0781 L1505.9844,378.1719 Q1505.9844,379.4063 1506.875,380.2344 Q1507.7656,381.0469 1509.3594,381.0469 Q1510.2969,381.0469 1510.9531,380.7969 Q1511.3438,380.6406 1511.7656,380.2031 Q1512.0313,379.9375 1512.1719,379.8594 Q1512.3281,379.7813 1512.5313,379.7813 Q1512.8594,379.7813 1513.1094,380.0469 Q1513.375,380.2969 1513.375,380.6406 Q1513.375,380.9844 1513.0313,381.3906 Q1512.5313,381.9688 1511.7344,382.2969 Q1510.6563,382.75 1509.3594,382.75 Q1507.8438,382.75 1506.6406,382.125 Q1505.6563,381.625 1504.9688,380.5625 Q1504.2813,379.4844 1504.2813,378.2031 L1504.2813,377.0469 Q1504.2813,375.7188 1504.8906,374.5781 Q1505.5156,373.4219 1506.6094,372.8125 Q1507.7031,372.1875 1508.9375,372.1875 Q1509.6719,372.1875 1510.3125,372.3594 Q1510.9688,372.5156 1511.5156,372.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1529.25" y="382.7285">AccessCondition</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="1964.5" y="358"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="1965.5" y="371.457">TRequest</text><line style="stroke:#181818;stroke-width:0.5;" x1="1172.5" x2="2015.5" y1="393" y2="393"/><polygon fill="#FFFF44" points="1182.5,423.9141,1186.5,427.9141,1182.5,431.9141,1178.5,427.9141" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="465" x="1191.5" y="433.1426">AccessCondition(request : TRequest, predicate : Func&lt;TRequest, bool&gt; )</text><polygon fill="#FFFF44" points="1182.5,441.5234,1186.5,445.5234,1182.5,449.5234,1178.5,445.5234" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="620" x="1191.5" y="450.752">AccessCondition(request : TRequest, predicate : Func&lt;TRequest, bool&gt;, expiresAtUtc : DateTime)</text><polygon fill="#FFFF44" points="1182.5,459.1328,1186.5,463.1328,1182.5,467.1328,1178.5,463.1328" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="580" x="1191.5" y="468.3613">AccessCondition(TRequest request, Func&lt;TRequest, bool&gt; predicate, TimeSpan timeSpan)</text><polygon fill="#FFFF44" points="1182.5,476.7422,1186.5,480.7422,1182.5,484.7422,1178.5,480.7422" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="819" x="1191.5" y="485.9707">AccessCondition(request : TRequest, predicate : Func&lt;TRequest, bool&gt;, expiresAtUtc : DateTime, waitTillActionCompletion : bool)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1172.5" x2="1553.5" y1="409.8047" y2="409.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1553.5" y="415.0332">Constructors</text><line style="stroke:#181818;stroke-width:1.0;" x1="1634.5" x2="2015.5" y1="409.8047" y2="409.8047"/><ellipse cx="1182.5" cy="520.9609" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="1191.5" y="525.1895">«get» Predicate : Func&lt;TRequest, bool&gt;</text><line style="stroke:#181818;stroke-width:1.0;" x1="1172.5" x2="1561.5" y1="501.8516" y2="501.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1561.5" y="507.0801">Properties</text><line style="stroke:#181818;stroke-width:1.0;" x1="1626.5" x2="2015.5" y1="501.8516" y2="501.8516"/></g><!--MD5=[aab85f1e9e4733051d8190430bf65612]
class AsyncAccessCondition--><g id="elem_AsyncAccessCondition"><rect codeLine="27" fill="#F1F1F1" height="171.2656" id="AsyncAccessCondition" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="930" x="2052" y="361"/><ellipse cx="2412.75" cy="377" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2415.5156,372.875 Q2415.6719,372.6563 2415.8594,372.5469 Q2416.0469,372.4375 2416.2656,372.4375 Q2416.6406,372.4375 2416.875,372.7031 Q2417.1094,372.9531 2417.1094,373.5625 L2417.1094,375.0156 Q2417.1094,375.625 2416.875,375.8906 Q2416.6406,376.1563 2416.2656,376.1563 Q2415.9219,376.1563 2415.7188,375.9531 Q2415.5156,375.7656 2415.4063,375.25 Q2415.3594,374.8906 2415.1719,374.7031 Q2414.8438,374.3281 2414.2344,374.1094 Q2413.625,373.8906 2413,373.8906 Q2412.2344,373.8906 2411.5938,374.2188 Q2410.9688,374.5469 2410.4688,375.2969 Q2409.9844,376.0469 2409.9844,377.0781 L2409.9844,378.1719 Q2409.9844,379.4063 2410.875,380.2344 Q2411.7656,381.0469 2413.3594,381.0469 Q2414.2969,381.0469 2414.9531,380.7969 Q2415.3438,380.6406 2415.7656,380.2031 Q2416.0313,379.9375 2416.1719,379.8594 Q2416.3281,379.7813 2416.5313,379.7813 Q2416.8594,379.7813 2417.1094,380.0469 Q2417.375,380.2969 2417.375,380.6406 Q2417.375,380.9844 2417.0313,381.3906 Q2416.5313,381.9688 2415.7344,382.2969 Q2414.6563,382.75 2413.3594,382.75 Q2411.8438,382.75 2410.6406,382.125 Q2409.6563,381.625 2408.9688,380.5625 Q2408.2813,379.4844 2408.2813,378.2031 L2408.2813,377.0469 Q2408.2813,375.7188 2408.8906,374.5781 Q2409.5156,373.4219 2410.6094,372.8125 Q2411.7031,372.1875 2412.9375,372.1875 Q2413.6719,372.1875 2414.3125,372.3594 Q2414.9688,372.5156 2415.5156,372.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="2433.25" y="382.7285">AsyncAccessCondition</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="2930" y="358"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="2931" y="371.457">TRequest</text><line style="stroke:#181818;stroke-width:0.5;" x1="2053" x2="2981" y1="393" y2="393"/><polygon fill="#FFFF44" points="2063,423.9141,2067,427.9141,2063,431.9141,2059,427.9141" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="546" x="2072" y="433.1426">AsyncAccessCondition(request : TRequest, predicate : Func&lt;TRequest, Task&lt;bool&gt;&gt;)</text><polygon fill="#FFFF44" points="2063,441.5234,2067,445.5234,2063,449.5234,2059,445.5234" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="705" x="2072" y="450.752">AsyncAccessCondition(request : TRequest, predicate : Func&lt;TRequest, Task&lt;bool&gt;&gt;, expiresAtUtc : DateTime)</text><polygon fill="#FFFF44" points="2063,459.1328,2067,463.1328,2063,467.1328,2059,463.1328" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="689" x="2072" y="468.3613">AsyncAccessCondition(request : TRequest, predicate : Func&lt;TRequest, Task&lt;bool&gt;&gt;, timeSpan : TimeSpan)</text><polygon fill="#FFFF44" points="2063,476.7422,2067,480.7422,2063,484.7422,2059,480.7422" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="904" x="2072" y="485.9707">AsyncAccessCondition(request : TRequest, predicate : Func&lt;TRequest, Task&lt;bool&gt;&gt;, expiresAtUtc : DateTime, waitTillActionCompletion : bool)</text><line style="stroke:#181818;stroke-width:1.0;" x1="2053" x2="2476.5" y1="409.8047" y2="409.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="2476.5" y="415.0332">Constructors</text><line style="stroke:#181818;stroke-width:1.0;" x1="2557.5" x2="2981" y1="409.8047" y2="409.8047"/><ellipse cx="2063" cy="520.9609" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="304" x="2072" y="525.1895">«get» Predicate : Func&lt;TRequest, Task&lt;bool&gt;&gt;</text><line style="stroke:#181818;stroke-width:1.0;" x1="2053" x2="2484.5" y1="501.8516" y2="501.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="2484.5" y="507.0801">Properties</text><line style="stroke:#181818;stroke-width:1.0;" x1="2549.5" x2="2981" y1="501.8516" y2="501.8516"/></g><!--MD5=[3d18d80f53b6fb6a18c32cad6a108e6f]
class BaseActionInfo--><g id="elem_BaseActionInfo"><rect codeLine="39" fill="#F1F1F1" height="118.4375" id="BaseActionInfo" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="248" x="3648" y="130"/><ellipse cx="3691.8" cy="146" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3693.9875,147.7656 L3689.8469,147.7656 L3689.425,148.7969 L3689.8469,148.7969 Q3690.4563,148.7969 3690.7219,149.0313 Q3690.9875,149.2656 3690.9875,149.6563 Q3690.9875,150.0313 3690.7219,150.2656 Q3690.4563,150.5 3689.8469,150.5 L3687.55,150.5 Q3686.9406,150.5 3686.6906,150.2656 Q3686.425,150.0313 3686.425,149.6406 Q3686.425,149.2656 3686.7063,149.0313 Q3686.9719,148.7813 3687.5969,148.7969 L3690.2688,142.1406 L3689.1594,142.1406 Q3688.55,142.1406 3688.2844,141.9063 Q3688.0188,141.6719 3688.0188,141.2813 Q3688.0188,140.9063 3688.2844,140.6719 Q3688.55,140.4375 3689.1594,140.4375 L3692.8313,140.4375 L3696.2219,148.7969 Q3696.8156,148.7969 3697.0031,148.9375 Q3697.3938,149.2031 3697.3938,149.6563 Q3697.3938,150.0313 3697.1281,150.2656 Q3696.8781,150.5 3696.2688,150.5 L3693.9719,150.5 Q3693.3625,150.5 3693.0969,150.2656 Q3692.8313,150.0313 3692.8313,149.6406 Q3692.8313,149.2656 3693.0969,149.0313 Q3693.3625,148.7969 3693.9719,148.7969 L3694.3938,148.7969 L3693.9875,147.7656 Z M3693.2688,146.0625 L3691.9094,142.6875 L3690.5344,146.0625 L3693.2688,146.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="3712.2" y="151.7285">BaseActionInfo</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="3844" y="127"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="3845" y="140.457">TRequest</text><line style="stroke:#181818;stroke-width:0.5;" x1="3649" x2="3895" y1="162" y2="162"/><ellipse cx="3659" cy="197.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="3668" y="202.1426">«get» Lock : object</text><line style="stroke:#181818;stroke-width:1.0;" x1="3649" x2="3739.5" y1="178.8047" y2="178.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="3739.5" y="184.0332">Properties</text><line style="stroke:#181818;stroke-width:1.0;" x1="3804.5" x2="3895" y1="178.8047" y2="178.8047"/><polygon fill="#FFFF44" points="3659,232.1328,3663,236.1328,3659,240.1328,3655,236.1328" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="3668" y="241.3613">BaseActionInfo(actionLock : object)</text><line style="stroke:#181818;stroke-width:1.0;" x1="3649" x2="3731.5" y1="218.0234" y2="218.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="3731.5" y="223.252">Constructors</text><line style="stroke:#181818;stroke-width:1.0;" x1="3812.5" x2="3895" y1="218.0234" y2="218.0234"/></g><!--MD5=[597f61544dd764ffa9fd3cca953de656]
class ActionInfo--><g id="elem_ActionInfo"><rect codeLine="46" fill="#F1F1F1" height="136.0469" id="ActionInfo" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="698" x="3038" y="378.5"/><ellipse cx="3322.75" cy="394.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3324.9375,396.2656 L3320.7969,396.2656 L3320.375,397.2969 L3320.7969,397.2969 Q3321.4063,397.2969 3321.6719,397.5313 Q3321.9375,397.7656 3321.9375,398.1563 Q3321.9375,398.5313 3321.6719,398.7656 Q3321.4063,399 3320.7969,399 L3318.5,399 Q3317.8906,399 3317.6406,398.7656 Q3317.375,398.5313 3317.375,398.1406 Q3317.375,397.7656 3317.6563,397.5313 Q3317.9219,397.2813 3318.5469,397.2969 L3321.2188,390.6406 L3320.1094,390.6406 Q3319.5,390.6406 3319.2344,390.4063 Q3318.9688,390.1719 3318.9688,389.7813 Q3318.9688,389.4063 3319.2344,389.1719 Q3319.5,388.9375 3320.1094,388.9375 L3323.7813,388.9375 L3327.1719,397.2969 Q3327.7656,397.2969 3327.9531,397.4375 Q3328.3438,397.7031 3328.3438,398.1563 Q3328.3438,398.5313 3328.0781,398.7656 Q3327.8281,399 3327.2188,399 L3324.9219,399 Q3324.3125,399 3324.0469,398.7656 Q3323.7813,398.5313 3323.7813,398.1406 Q3323.7813,397.7656 3324.0469,397.5313 Q3324.3125,397.2969 3324.9219,397.2969 L3325.3438,397.2969 L3324.9375,396.2656 Z M3324.2188,394.5625 L3322.8594,391.1875 L3321.4844,394.5625 L3324.2188,394.5625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="63" x="3343.25" y="400.2285">ActionInfo</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="3684" y="375.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="3685" y="388.957">TRequest</text><line style="stroke:#181818;stroke-width:0.5;" x1="3039" x2="3735" y1="410.5" y2="410.5"/><ellipse cx="3049" cy="446.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="3058" y="450.6426">«get» Action : Action&lt;TRequest&gt;</text><ellipse cx="3049" cy="464.0234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="340" x="3058" y="468.252">«get» AccessCondition : AccessCondition&lt;TRequest&gt;</text><line style="stroke:#181818;stroke-width:1.0;" x1="3039" x2="3354.5" y1="427.3047" y2="427.3047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="3354.5" y="432.5332">Properties</text><line style="stroke:#181818;stroke-width:1.0;" x1="3419.5" x2="3735" y1="427.3047" y2="427.3047"/><polygon fill="#FFFF44" points="3049,498.2422,3053,502.2422,3049,506.2422,3045,502.2422" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="672" x="3058" y="507.4707">ActionInfo(action : Action&lt;TRequest&gt;, accessCondition : AccessCondition&lt;TRequest&gt;, actionLock : object)</text><line style="stroke:#181818;stroke-width:1.0;" x1="3039" x2="3346.5" y1="484.1328" y2="484.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="3346.5" y="489.3613">Constructors</text><line style="stroke:#181818;stroke-width:1.0;" x1="3427.5" x2="3735" y1="484.1328" y2="484.1328"/></g><!--MD5=[236287ec3c5e159088796c588bde3f73]
class ActionInfo.ActionInfo--><g id="elem_ActionInfo.ActionInfo"><rect codeLine="54" fill="#F1F1F1" height="136.0469" id="ActionInfo.ActionInfo" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="772" x="3771" y="378.5"/><ellipse cx="4024.75" cy="394.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4026.9375,396.2656 L4022.7969,396.2656 L4022.375,397.2969 L4022.7969,397.2969 Q4023.4063,397.2969 4023.6719,397.5313 Q4023.9375,397.7656 4023.9375,398.1563 Q4023.9375,398.5313 4023.6719,398.7656 Q4023.4063,399 4022.7969,399 L4020.5,399 Q4019.8906,399 4019.6406,398.7656 Q4019.375,398.5313 4019.375,398.1406 Q4019.375,397.7656 4019.6563,397.5313 Q4019.9219,397.2813 4020.5469,397.2969 L4023.2188,390.6406 L4022.1094,390.6406 Q4021.5,390.6406 4021.2344,390.4063 Q4020.9688,390.1719 4020.9688,389.7813 Q4020.9688,389.4063 4021.2344,389.1719 Q4021.5,388.9375 4022.1094,388.9375 L4025.7813,388.9375 L4029.1719,397.2969 Q4029.7656,397.2969 4029.9531,397.4375 Q4030.3438,397.7031 4030.3438,398.1563 Q4030.3438,398.5313 4030.0781,398.7656 Q4029.8281,399 4029.2188,399 L4026.9219,399 Q4026.3125,399 4026.0469,398.7656 Q4025.7813,398.5313 4025.7813,398.1406 Q4025.7813,397.7656 4026.0469,397.5313 Q4026.3125,397.2969 4026.9219,397.2969 L4027.3438,397.2969 L4026.9375,396.2656 Z M4026.2188,394.5625 L4024.8594,391.1875 L4023.4844,394.5625 L4026.2188,394.5625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="130" x="4045.25" y="400.2285">ActionInfo.ActionInfo</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="124" x="4422" y="375.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="122" x="4423" y="388.957">TRequest, TResponse</text><line style="stroke:#181818;stroke-width:0.5;" x1="3772" x2="4542" y1="410.5" y2="410.5"/><ellipse cx="3782" cy="446.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="3791" y="450.6426">«get» Action : Func&lt;TRequest, TResponse&gt;</text><ellipse cx="3782" cy="464.0234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="340" x="3791" y="468.252">«get» AccessCondition : AccessCondition&lt;TRequest&gt;</text><line style="stroke:#181818;stroke-width:1.0;" x1="3772" x2="4124.5" y1="427.3047" y2="427.3047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="4124.5" y="432.5332">Properties</text><line style="stroke:#181818;stroke-width:1.0;" x1="4189.5" x2="4542" y1="427.3047" y2="427.3047"/><polygon fill="#FFFF44" points="3782,498.2422,3786,502.2422,3782,506.2422,3778,502.2422" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="746" x="3791" y="507.4707">ActionInfo(action : Func&lt;TRequest, TResponse&gt;, accessCondition : AccessCondition&lt;TRequest&gt;, actionLock : object)</text><line style="stroke:#181818;stroke-width:1.0;" x1="3772" x2="4116.5" y1="484.1328" y2="484.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="4116.5" y="489.3613">Constructors</text><line style="stroke:#181818;stroke-width:1.0;" x1="4197.5" x2="4542" y1="484.1328" y2="484.1328"/></g><!--MD5=[70782dfba308c157af1812d7464d53a2]
class ActionConditionalException--><g id="elem_ActionConditionalException"><rect codeLine="64" fill="#F1F1F1" height="210.4844" id="ActionConditionalException" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="738" x="3411" y="832"/><ellipse cx="3661.75" cy="848" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3664.5156,843.875 Q3664.6719,843.6563 3664.8594,843.5469 Q3665.0469,843.4375 3665.2656,843.4375 Q3665.6406,843.4375 3665.875,843.7031 Q3666.1094,843.9531 3666.1094,844.5625 L3666.1094,846.0156 Q3666.1094,846.625 3665.875,846.8906 Q3665.6406,847.1563 3665.2656,847.1563 Q3664.9219,847.1563 3664.7188,846.9531 Q3664.5156,846.7656 3664.4063,846.25 Q3664.3594,845.8906 3664.1719,845.7031 Q3663.8438,845.3281 3663.2344,845.1094 Q3662.625,844.8906 3662,844.8906 Q3661.2344,844.8906 3660.5938,845.2188 Q3659.9688,845.5469 3659.4688,846.2969 Q3658.9844,847.0469 3658.9844,848.0781 L3658.9844,849.1719 Q3658.9844,850.4063 3659.875,851.2344 Q3660.7656,852.0469 3662.3594,852.0469 Q3663.2969,852.0469 3663.9531,851.7969 Q3664.3438,851.6406 3664.7656,851.2031 Q3665.0313,850.9375 3665.1719,850.8594 Q3665.3281,850.7813 3665.5313,850.7813 Q3665.8594,850.7813 3666.1094,851.0469 Q3666.375,851.2969 3666.375,851.6406 Q3666.375,851.9844 3666.0313,852.3906 Q3665.5313,852.9688 3664.7344,853.2969 Q3663.6563,853.75 3662.3594,853.75 Q3660.8438,853.75 3659.6406,853.125 Q3658.6563,852.625 3657.9688,851.5625 Q3657.2813,850.4844 3657.2813,849.2031 L3657.2813,848.0469 Q3657.2813,846.7188 3657.8906,845.5781 Q3658.5156,844.4219 3659.6094,843.8125 Q3660.7031,843.1875 3661.9375,843.1875 Q3662.6719,843.1875 3663.3125,843.3594 Q3663.9688,843.5156 3664.5156,843.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="3682.25" y="853.7285">ActionConditionalException</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="4097" y="829"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="4098" y="842.457">TRequest</text><line style="stroke:#181818;stroke-width:0.5;" x1="3412" x2="4148" y1="864" y2="864"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3419" y="896.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="398" x="3431" y="904.1426">readonly _accessCondition : BaseAccessCondition&lt;TRequest&gt;</text><ellipse cx="3422" cy="917.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="477" x="3431" y="921.752">override Message : string = ConstructExceptionMessage(_accessCondition)</text><line style="stroke:#181818;stroke-width:1.0;" x1="3412" x2="3747.5" y1="880.8047" y2="880.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="3747.5" y="886.0332">Properties</text><line style="stroke:#181818;stroke-width:1.0;" x1="3812.5" x2="4148" y1="880.8047" y2="880.8047"/><ellipse cx="3422" cy="956.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="598" x="3431" y="960.9707">override GetBaseException() : Exception =&gt; ConstructInnerExceptionDetails(_accessCondition)</text><polygon fill="#FFFF44" points="3422,969.3516,3426,973.3516,3422,977.3516,3418,973.3516" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="668" x="3431" y="978.5801">virtual ConstructExceptionMessage(accessCondition : BaseAccessCondition&lt;TRequest&gt;) : string = default</text><polygon fill="#FFFF44" points="3422,986.9609,3426,990.9609,3422,994.9609,3418,990.9609" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="712" x="3431" y="996.1895">virtual ConstructInnerExceptionDetails(accessCondition : BaseAccessCondition&lt;TRequest&gt;) : Exception = default</text><line style="stroke:#181818;stroke-width:1.0;" x1="3412" x2="3753" y1="937.6328" y2="937.6328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="3753" y="942.8613">Methods</text><line style="stroke:#181818;stroke-width:1.0;" x1="3807" x2="4148" y1="937.6328" y2="937.6328"/><ellipse cx="3422" cy="1031.1797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="512" x="3431" y="1035.4082">ActionConditionalException(accessCondition : BaseAccessCondition&lt;TRequest&gt;)</text><line style="stroke:#181818;stroke-width:1.0;" x1="3412" x2="3739.5" y1="1012.0703" y2="1012.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="3739.5" y="1017.2988">Constructors</text><line style="stroke:#181818;stroke-width:1.0;" x1="3820.5" x2="4148" y1="1012.0703" y2="1012.0703"/></g><!--MD5=[8db60afef7a3447bbe27c5ed187fdac2]
class Exception--><g id="elem_Exception"><rect fill="#F1F1F1" height="48" id="Exception" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="3733.5" y="662.5"/><ellipse cx="3748.5" cy="678.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3751.2656,674.375 Q3751.4219,674.1563 3751.6094,674.0469 Q3751.7969,673.9375 3752.0156,673.9375 Q3752.3906,673.9375 3752.625,674.2031 Q3752.8594,674.4531 3752.8594,675.0625 L3752.8594,676.5156 Q3752.8594,677.125 3752.625,677.3906 Q3752.3906,677.6563 3752.0156,677.6563 Q3751.6719,677.6563 3751.4688,677.4531 Q3751.2656,677.2656 3751.1563,676.75 Q3751.1094,676.3906 3750.9219,676.2031 Q3750.5938,675.8281 3749.9844,675.6094 Q3749.375,675.3906 3748.75,675.3906 Q3747.9844,675.3906 3747.3438,675.7188 Q3746.7188,676.0469 3746.2188,676.7969 Q3745.7344,677.5469 3745.7344,678.5781 L3745.7344,679.6719 Q3745.7344,680.9063 3746.625,681.7344 Q3747.5156,682.5469 3749.1094,682.5469 Q3750.0469,682.5469 3750.7031,682.2969 Q3751.0938,682.1406 3751.5156,681.7031 Q3751.7813,681.4375 3751.9219,681.3594 Q3752.0781,681.2813 3752.2813,681.2813 Q3752.6094,681.2813 3752.8594,681.5469 Q3753.125,681.7969 3753.125,682.1406 Q3753.125,682.4844 3752.7813,682.8906 Q3752.2813,683.4688 3751.4844,683.7969 Q3750.4063,684.25 3749.1094,684.25 Q3747.5938,684.25 3746.3906,683.625 Q3745.4063,683.125 3744.7188,682.0625 Q3744.0313,680.9844 3744.0313,679.7031 L3744.0313,678.5469 Q3744.0313,677.2188 3744.6406,676.0781 Q3745.2656,674.9219 3746.3594,674.3125 Q3747.4531,673.6875 3748.6875,673.6875 Q3749.4219,673.6875 3750.0625,673.8594 Q3750.7188,674.0156 3751.2656,674.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="3762.5" y="684.2285">Exception</text><line style="stroke:#181818;stroke-width:0.5;" x1="3734.5" x2="3825.5" y1="694.5" y2="694.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="3734.5" x2="3825.5" y1="702.5" y2="702.5"/></g><!--MD5=[282205984f605779596ec783c066add2]
reverse link BaseAccessCondition to AccessCondition--><g id="link_BaseAccessCondition_AccessCondition"><path d="M1852.87,302.03 C1817.27,321.76 1780.76,341.99 1746.8,360.81 " fill="none" id="BaseAccessCondition-backto-AccessCondition" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1849.93,295.65,1870.81,292.08,1856.71,307.9,1849.93,295.65" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d41e3781d0c55e378195218535225484]
reverse link BaseAccessCondition to AsyncAccessCondition--><g id="link_BaseAccessCondition_AsyncAccessCondition"><path d="M2257.57,302.03 C2293.24,321.76 2329.83,341.99 2363.87,360.81 " fill="none" id="BaseAccessCondition-backto-AsyncAccessCondition" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="2253.7,307.89,2239.59,292.08,2260.48,295.64,2253.7,307.89" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3e57688b87a246ad7f211c78ad23703f]
reverse link BaseActionInfo to ActionInfo--><g id="link_BaseActionInfo_ActionInfo"><path d="M3667.28,259.49 C3611.53,296.5 3543.27,341.8 3488.07,378.43 " fill="none" id="BaseActionInfo-backto-ActionInfo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="3663.62,253.52,3684.16,248.3,3671.36,265.19,3663.62,253.52" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d6983c053004c521cbe842d00f8daf44]
reverse link BaseActionInfo to ActionInfo.ActionInfo--><g id="link_BaseActionInfo_ActionInfo.ActionInfo"><path d="M3876.72,259.49 C3932.47,296.5 4000.73,341.8 4055.93,378.43 " fill="none" id="BaseActionInfo-backto-ActionInfo.ActionInfo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="3872.64,265.19,3859.84,248.3,3880.38,253.52,3872.64,265.19" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c0eaffcb9f985a51b8c63ef842aa2cb8]
reverse link Exception to ActionConditionalException--><g id="link_Exception_ActionConditionalException"><path d="M3780,731.02 C3780,758.99 3780,796.58 3780,831.93 " fill="none" id="Exception-backto-ActionConditionalException" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="3773,730.88,3780,710.88,3787,730.88,3773,730.88" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e4ff41bc877ccc3316d00e64945c9081]
link ActionInfo to Exceptions--><!--MD5=[824b86420c88fc431a4b1b2194471511]
link IActionConditionalChecker to AccessCondition--><!--MD5=[dc200f5580312c96c02308ed4e12a875]
link IActionConditionalChecker to IAsyncActionConditionalChecker--><!--MD5=[479fbe99ec7ed7363e77d94dd1cbe52d]
link IAsyncActionConditionalChecker to ActionState--><!--MD5=[c515cf3d5fb0102937b406da950a07b1]
@startuml GenericRepositoryContracts

package ActionConditionalChecker.Contracts {
    package AccessCondition {

        abstract class BaseAccessCondition<TRequest> {
            - -Properties- -
            + <<get>> Request : TRequest
            + <<get>> ExpiresAtUtc : DateTime?
            + <<get>> WaitTillActionCompletion : bool
            - -Constructors- -
            # BaseAccessCondition(request : TRequest, expiresAtUtc : DateTime, waitTillActionCompletion : bool)
            # BaseAccessCondition(request : TRequest, expiresAtUtc : DateTime)
            # BaseAccessCondition(request : TRequest, timeSpan : TimeSpan)
            # BaseAccessCondition(request : TRequest)
        }

        class AccessCondition<TRequest> extends BaseAccessCondition {
            - -Constructors- -
            # AccessCondition(request : TRequest, predicate : Func<TRequest, bool> )
            # AccessCondition(request : TRequest, predicate : Func<TRequest, bool>, expiresAtUtc : DateTime)
            # AccessCondition(TRequest request, Func<TRequest, bool> predicate, TimeSpan timeSpan) 
            # AccessCondition(request : TRequest, predicate : Func<TRequest, bool>, expiresAtUtc : DateTime, waitTillActionCompletion : bool)
            - -Properties- -
            + <<get>> Predicate : Func<TRequest, bool>
        }

        class AsyncAccessCondition<TRequest> extends BaseAccessCondition {
            - -Constructors- -
            # AsyncAccessCondition(request : TRequest, predicate : Func<TRequest, Task<bool>>)
            # AsyncAccessCondition(request : TRequest, predicate : Func<TRequest, Task<bool>>, expiresAtUtc : DateTime)
            # AsyncAccessCondition(request : TRequest, predicate : Func<TRequest, Task<bool>>, timeSpan : TimeSpan)
            # AsyncAccessCondition(request : TRequest, predicate : Func<TRequest, Task<bool>>, expiresAtUtc : DateTime, waitTillActionCompletion : bool)
            - -Properties- -
            + <<get>> Predicate : Func<TRequest, Task<bool>>
        }
    }

    package ActionInfo {
            abstract class BaseActionInfo<TRequest> {
                - -Properties- -
                + <<get>> Lock : object
                - -Constructors- -
                # BaseActionInfo(actionLock : object)
            }

            abstract class ActionInfo<TRequest> extends BaseActionInfo {
                - -Properties- -
                + <<get>> Action : Action<TRequest>
                + <<get>> AccessCondition : AccessCondition<TRequest>
                - -Constructors- -
                # ActionInfo(action : Action<TRequest>, accessCondition : AccessCondition<TRequest>, actionLock : object)
            }

            abstract class ActionInfo.ActionInfo<TRequest, TResponse> extends BaseActionInfo {
                - -Properties- -
                + <<get>> Action : Func<TRequest, TResponse>
                + <<get>> AccessCondition : AccessCondition<TRequest>
                - -Constructors- -
                # ActionInfo(action : Func<TRequest, TResponse>, accessCondition : AccessCondition<TRequest>, actionLock : object)
            }    
        }

    package Exceptions {
        class ActionConditionalException<TRequest> extends Exception {
            - -Properties- -
            - readonly _accessCondition : BaseAccessCondition<TRequest>
            + override Message : string = ConstructExceptionMessage(_accessCondition)
            - -Methods- -
            + override GetBaseException() : Exception => ConstructInnerExceptionDetails(_accessCondition)
            # virtual ConstructExceptionMessage(accessCondition : BaseAccessCondition<TRequest>) : string = default
            # virtual ConstructInnerExceptionDetails(accessCondition : BaseAccessCondition<TRequest>) : Exception = default
            - -Constructors- -
            + ActionConditionalException(accessCondition : BaseAccessCondition<TRequest>)
        }
    }

    class ActionState {
        - -Properties- -
        + <<get>> ExpiresAtUtc : DateTime?
        + <<get>> ShoultWaitTillCompletion : bool
        + <<get>> Completed : bool = !ShoultWaitTillCompletion && (!ExpiresAtUtc.HasValue || ExpiresAtUtc < DateTime.UtcNow)
        + <<get>> Expired : bool = ExpiresAtUtc.HasValue && ExpiresAtUtc < DateTime.UtcNow
        - -Constructors- -
        + ActionState(expiresAtUtc : DateTime?, shoultWaitTillCompletion : bool)
    }

    interface IActionConditionalChecker {
        + CanExecute<TRequest>(accessCondition : AccessCondition.AccessCondition<TRequest>) : OperationResult<bool>
        + EnsureCanExecute<TRequest>(accessCondition : AccessCondition.AccessCondition<TRequest>) : void
        + ExecuteOrThrowException<TRequest>(actionInfo : ActionInfo<TRequest>) : OperationResult<ActionState>
        + ExecuteOrSkip<TRequest>(actionInfo : ActionInfo<TRequest>) : OperationResult<ActionState>
        + Execute<TRequest>(actionInfo : ActionInfo<TRequest>) : OperationResult<ActionState>
        + ExecuteOrThrowException<TRequest, TResponse>(actionInfo : ActionInfo<TRequest, TResponse>) : OperationResult<Tuple<ActionState, TResponse>>
        + ExecuteOrSkip<TRequest, TResponse>(actionInfo : ActionInfo<TRequest, TResponse>) : OperationResult<Tuple<ActionState, TResponse>>
        + Execute<TRequest, TResponse>(actionInfo : ActionInfo<TRequest, TResponse>) : OperationResult<Tuple<ActionState, TResponse>>
    }

    interface IAsyncActionConditionalChecker {
        + CanExecuteAsync<TRequest>(accessCondition : AccessCondition.AsyncAccessCondition<TRequest>) : Task<OperationResult<bool>>
        + EnsureCanExecuteAsync<TRequest>(accessCondition : AccessCondition.AsyncAccessCondition<TRequest>) : Task
        + ExecuteOrThrowExceptionAsync<TRequest>(actionInfo : AsyncActionInfo<TRequest>) : Task<OperationResult<ActionState>>
        + ExecuteOrSkipAsync<TRequest>(actionInfo : AsyncActionInfo<TRequest>) : Task<OperationResult<ActionState>>
        + ExecuteAsync<TRequest>(actionInfo : AsyncActionInfo<TRequest>) : Task<OperationResult<ActionState>>
        + ExecuteOrThrowExceptionAsync<TRequest, TResponse>(actionInfo : AsyncActionInfo<TRequest, TResponse>) : Task<OperationResult<Tuple<ActionState, TResponse>>>
        + ExecuteOrSkipAsync<TRequest, TResponse>(actionInfo : AsyncActionInfo<TRequest, TResponse>) : Task<OperationResult<Tuple<ActionState, TResponse>>>
        + ExecuteAsync<TRequest, TResponse>(AsyncActionInfo<TRequest, actionInfo : TResponse>) : Task<OperationResult<Tuple<ActionState, TResponse>>>
    }

    
    ActionInfo -[hidden]- Exceptions

    IActionConditionalChecker -[hidden]- AccessCondition
    IActionConditionalChecker -[hidden]- IAsyncActionConditionalChecker
    IAsyncActionConditionalChecker -[hidden]- ActionState
}

@enduml

PlantUML version 1.2022.7(Mon Aug 22 20:01:30 EEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>